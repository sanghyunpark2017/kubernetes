
#일단 tomcat은 official 도커 이미지 사용하는 것으로 하여 테스트 한다.
#wasadm계정으로 구동하는 것은 DOCKERFILE로 부터 make해야 하며 필요시 나중에 실행


docker run -dit --name "tomcat7" tomcat:7
docker exec -it tomcat7 /bin/bash

cat /etc/*-release | uniq

apt-get update

apt-get install -y net-tools
apt-get install -y vim


#파일백업 스크립트
cd /sbin
vi bk
------------------------------------------------------------
#CP.ALL.ENABLE
for i in $*
do
        if [ -f $i ]
        then
                cp -pf "$1" "$1".`date +"%y%m%d.%H%M%S"`
        else
                echo "`basename $0` <filenames>"
        fi
done
------------------------------------------------------------

chmod 755 bk

#bash profile
cat << EOF >> /root/.bashrc
export PS1="\[\e[36;1m\]\u@\[\e[32;1m\]\h:\[\e[31;1m\]\w# \[\e[0m\]"
alias ll='ls -al'
EOF








#####################
#도커 기본 톰캣 수정
#####################

#tomcat6.x/7.x
Login to Tomcat server
Go to installation directory and then conf folder
Open the tomcat-users.xml and add the following above </tomcat-users> syntax
<role rolename="manager-gui"/>
<user username="tomcat" password="tomcat" roles="manager-gui"/>
-> 참조 https://geekflare.com/tomcat-login-problem/



#tomcat8.x/9.x
By default, Tomcat 8 manager is configured to be accessed from the same server where it’s installed. 
If you access manager, you will get 403 error.
For a manager to be accessible from any host/IP, you need to do the following.

Go to Tomcat installation and then webapps/manager/META-INF
Open context.xml and comment Valve section as below
-> 참조 https://geekflare.com/tomcat-login-problem/
























