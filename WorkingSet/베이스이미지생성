
#########################
# 목적
#########################
-컨테이너의 특/장점을 활용하기 보다는 이를 VM서버처럼 사용하는 것을 테스트함
-모든 변경의 요소(config file)와 읽기요소(logs)를 export하여 컨테이너 안으로 들어갈 일이 없게끔 함


#개요
1) Centos7 도커이미지에 openssh(/w SSL)을 컴파일하고, 표준OS 설정을 추가하여 이 것을 기본OS 이미지로 사용한다.
-시스템툴 : openssh 컴파일, netstat, ping 등 추가
-계정 : wasadm 등 공통사용계정추가
-테스트 : SSHD 구동하고, ssh 접속

2) 위 기존OS이미지를 가지고 시스템로그를 elasticsearch로 빼는 filebeat 등 ADDON 작업을 한다.
ADDON 작업은 현재로서는 filebeat만 있음(데몬구동 -> SSHD+FILEBEAT)
이 것을 BASE-OS 이미지로 사용한다.


3) INIT-OS 또는 BASE-OS 위에 아파치를 소스컴파일 한다.
http only, http&https 2가지 버전으로 하며 
외보볼륨 연결은 NFS로 하고 설정파일, 로그파일, 인증서파일 등을 EXPORT 한다.
이 것을 Single Apache 표준 이미지로 사용한다.


#도커이미지 이름
BaseCentos7 : 기본OS 이미지
BaseCentos7-Java6 : 기본OS 이미지에 Java6설치
BaseCentos7-Java7 : 기본OS 이미지에 Java7설치

BaseCentos7-Apache24S : Apache 1대
BaseCentos7-Apache24M : Apache 2대

BaseCentos7-Java6-Tomat7S : Tomcat 1대
BaseCentos7-Java7-Tomat8M : Tomcat 2대


#########################
#기본OS 이미지 생성
#########################

DOCKER에서 
-DockerHub에서 Centos7 이미지 가져온다
-Shell로 들어가서 이것 저것 설치한다.

이 것을 Private Hub에 올려 놓고, Kubernetes에서 동작하는지 본다






#
#
#
